/*! warframe-notifier 0.1.0 */
!function(a){"use strict";var b={cases:{mod:/\(Mod\)/,blueprint:/\(Blueprint\)/,aura:/\(Aura\)/,resource:/\(Resource\)/},selected:[],notified:[],deleted:[],isNotificationAvailable:!0,wekit:!1,addNotified:function(a){this.notified.push(a),sessionStorage.setItem("notified",this.notified)},isNotified:function(a){for(var b=0;b<this.notified.length;b+=1)if(this.notified[b]===a)return!0;return!1},addSelected:function(a){this.selected.push(a),localStorage.setItem("selected",this.selected)},removeSelected:function(a){this.selected.forEach(function(b,c,d){b===a&&d.splice(c,1)}),localStorage.setItem("selected",this.selected)}};null!==localStorage.getItem("selected")&&""!==localStorage.getItem("selected")&&(b.selected=localStorage.getItem("selected").split(",")),null!==sessionStorage.getItem("notified")&&""!==sessionStorage.getItem("notified")&&(b.notified=sessionStorage.getItem("notified").split(",")),a.config=b}(window),function(a){"use strict";var b={requestPermission:function(){}},c=a.Notification||a.mozNotification||b,d=function(a){var b={};return config.wekit?(b=c.create("warframenotif",{type:"basic",iconUrl:a.icon,title:a.title,message:a.body}),b.show()):b=new c(a.title,{body:a.body,icon:a.icon}),!1},e={icon:"img/default.png",body:"",title:"",setTitle:function(a){void 0===a&&(a="mission"),this.title="New "+a+" available"},show:function(){d(this)},execute:function(a,b,c){config.isNotified(a)||(config.addNotified(a),config.isNotificationAvailable&&(this.setTitle(),this.body=c,this.show()))}};a.webkitNotifications?(c=a.webkitNotifications,config.wekit=!0):a.Notification||a.mozNotification?config.wekit=!1:config.isNotificationAvailable=!1,c.requestPermission(function(a){config.isNotificationAvailable=a}),a.notify=function(a,b,c){return e.execute.apply(e,[a,b,c])}}(window),function(a){"use strict";var b=a.jQuery,c={match:function(a){if(void 0!==a){if(0===config.selected.length)return!0;for(var b=0;b<config.selected.length;b+=1)if(a.match(config.cases[config.selected[b]]))return!0}return!1},parse:function(a){var c,d=0,e=new Date,f=this;void 0!==a&&(renderer.cleanup(),c=b(a).contents().find("li"),c.each(function(){var a=b(this).find(".e-entry-title").html(),c=b(this).find(".permalink").data("datetime"),g=b(this).data("tweet-id");if(f.match(a)){var h=a.match(/(\d+)m/),i=parseInt(h[1],10),j=new Date(c),k=new Date(j.getTime()+6e4*i);a=j.getHours()+"h"+j.getMinutes()+" - "+a,notify(g,"",a),k.getTime()>e.getTime()?(d+=1,k.getTime()-e.getTime()<=6e5?renderer.addContent("warning",g,a):renderer.addContent("success",g,a)):renderer.addContent("danger",g,a)}}),renderer.render(),renderer.title(d))}};a.parser=function(a){c.parse.apply(c,a)}}(window),function(a){"use strict";var b=a.document,c=a.jQuery,d={container:"",contents:[],cleanup:function(){this.contents=[],this.container.html=""},addContent:function(a,b,c){this.contents.push('<p class="bg-'+a+'" data-id="'+b+'">'+c+"</p>")},render:function(){c(this.container).html(this.contents)},title:function(a){isNaN(parseInt(a,10))&&(a=0),b.title=2>a?a+" mission available":a+" missions available"}};a.renderer=d}(window);